# About
An end to end spring boot application which supports following feature
## Download rocket mq from below link 
https://archive.apache.org/dist/rocketmq/4.6.1/rocketmq-all-4.6.1-source-release.zip
## Binary for rocket mq 
### local path for roket mq source code
    /home/arun/software/rocketmq-all-4.6.1-source-release/
    
   mvn -Prelease-all -DskipTests clean install -U
   
   cd /distribution/target/rocketmq-4.6.1
   
   sh /bin/mqnamesrv
   
   note - if you get java_home issue . please set as below 
   
   export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
   
 ## start broker 
  /home/arun/software/rocketmq-all-4.6.1-source-release/distribution/target/rocketmq-4.6.1/rocketmq-4.6.1/bin
  
  sh mqbroker
  
  it may end up showing following error - There is insufficient memory for the Java Runtime Environment to continue
  
  follow suggestion given in this link - 
  https://stackoverflow.com/questions/46136787/apache-rockermq-broker-doesnt-start
    
  
  
   
#### user
#### role

an intermediate table user_role is generated by manay to many mapping to keep mapping between user id and role id. 

# Spring security
A multi login spring security is defined to support following types of authentication 
  #### Basic authentication
  #### Form based
  #### JWT token based - jwt implementation is based on following blog post
  https://dzone.com/articles/spring-boot-security-json-web-tokenjwt-hello-world
   
# spring profile 
 << work in progress for swagger specification and open api specification>>   
# Building
    mvn clean install
    
# Running
## Maven
    mvn spring-boot:run
## Maven wrapper
### Windows
    mvnw spring-boot:run
### Linux
    ./mvnw spring-boot:run
## Java
build project with :: mvn clean install -Dmaven.test.skip=true
### run the application with DB as identity store 
    java -jar -Dspring.profiles.active=DB target/gs-securing-web-0.0.1-SNAPSHOT.jar
### run the application with LDAP as identity store 
    java -jar -Dspring.profiles.active=LDAP target/gs-securing-web-0.0.1-SNAPSHOT.jar
### run the application with embedded ldap() as identity store 
    java -jar -Dspring.profiles.active=EMBDLDAP target/gs-securing-web-0.0.1-SNAPSHOT.jar
# Usage
* Regular home page: http://localhost:8094/
* Regular login page: http://localhost:8094/login
* Test basic authentication ping service: http://localhost:8094/api/v1/ping
* Test user creation service: http://localhost:8094/swagger-ui.html
